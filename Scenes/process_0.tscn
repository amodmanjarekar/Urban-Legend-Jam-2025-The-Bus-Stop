[gd_scene load_steps=28 format=3 uid="uid://coyn2cuhpbv80"]

[ext_resource type="Script" uid="uid://c1y5u60dodpjw" path="res://Scripts/process_0.gd" id="1_yhaaf"]
[ext_resource type="Texture2D" uid="uid://c3ul7bbppk8cc" path="res://Assets/Sprites/bus-stop-bg.png" id="2_b37l0"]
[ext_resource type="PackedScene" uid="uid://w77yyox6lcnu" path="res://Scenes/player.tscn" id="2_nw1tn"]
[ext_resource type="PackedScene" uid="uid://o4nsfy4srtv2" path="res://Scenes/bus_stop.tscn" id="3_kqyhp"]
[ext_resource type="Texture2D" uid="uid://be101dgd28n4l" path="res://Assets/Sprites/Icons/phone-icon.png" id="4_hbdsi"]
[ext_resource type="Texture2D" uid="uid://be06h5xuu1f3w" path="res://Assets/Sprites/bus-outside.png" id="4_kqyhp"]
[ext_resource type="Script" uid="uid://bp8j7a6qff0q2" path="res://Scripts/phone_btn.gd" id="4_nw1tn"]
[ext_resource type="Texture2D" uid="uid://dlwivuy5me3bc" path="res://Assets/Sprites/rain.png" id="5_hbdsi"]
[ext_resource type="PackedScene" uid="uid://dju4hf34gpff2" path="res://Scenes/phone.tscn" id="5_tcafs"]
[ext_resource type="Script" uid="uid://cdbdi4xh45c0j" path="res://Scripts/rain_and_mist.gd" id="5_u12qi"]
[ext_resource type="Texture2D" uid="uid://bcubg8qkvnbhh" path="res://Assets/Sprites/mist-1.png" id="6_oywl2"]
[ext_resource type="Texture2D" uid="uid://cl0qvpriknl1" path="res://Assets/Sprites/mist-2.png" id="7_u12qi"]
[ext_resource type="Texture2D" uid="uid://bhae13lk2jeeq" path="res://Assets/Sprites/mist-3.png" id="8_b37l0"]

[sub_resource type="CircleShape2D" id="CircleShape2D_kqyhp"]
radius = 9.0

[sub_resource type="AtlasTexture" id="AtlasTexture_tcafs"]
atlas = ExtResource("5_hbdsi")
region = Rect2(0, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_6usiw"]
atlas = ExtResource("5_hbdsi")
region = Rect2(320, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_oywl2"]
atlas = ExtResource("5_hbdsi")
region = Rect2(640, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_u12qi"]
atlas = ExtResource("5_hbdsi")
region = Rect2(960, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_b37l0"]
atlas = ExtResource("5_hbdsi")
region = Rect2(1280, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_mcc88"]
atlas = ExtResource("5_hbdsi")
region = Rect2(1600, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_5nah0"]
atlas = ExtResource("5_hbdsi")
region = Rect2(1920, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_6xsyp"]
atlas = ExtResource("5_hbdsi")
region = Rect2(2240, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_24t1q"]
atlas = ExtResource("5_hbdsi")
region = Rect2(2560, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_s13gq"]
atlas = ExtResource("5_hbdsi")
region = Rect2(2880, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_1oh6c"]
atlas = ExtResource("5_hbdsi")
region = Rect2(3200, 0, 320, 180)

[sub_resource type="AtlasTexture" id="AtlasTexture_hv6ur"]
atlas = ExtResource("5_hbdsi")
region = Rect2(3520, 0, 320, 180)

[sub_resource type="SpriteFrames" id="SpriteFrames_egqpn"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tcafs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6usiw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oywl2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u12qi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b37l0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mcc88")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5nah0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6xsyp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_24t1q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s13gq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1oh6c")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hv6ur")
}],
"loop": true,
"name": &"default",
"speed": 12.0
}]

[node name="process_0" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_yhaaf")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(81, 62)
limit_left = -300
limit_top = -300
limit_right = 600
limit_bottom = 300
editor_draw_limits = true

[node name="Bus-stop-bg" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(157, 96)
texture = ExtResource("2_b37l0")

[node name="bus-stop" parent="." instance=ExtResource("3_kqyhp")]

[node name="player" parent="." instance=ExtResource("2_nw1tn")]
position = Vector2(81, 62)

[node name="RemoteTransform2DCamera" type="RemoteTransform2D" parent="player"]
remote_path = NodePath("../../Camera2D")

[node name="RemoteTransform2DRain" type="RemoteTransform2D" parent="player"]
remote_path = NodePath("../../rain-and-mist")

[node name="enter-bus" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="enter-bus"]
position = Vector2(39, 103)
shape = SubResource("CircleShape2D_kqyhp")
disabled = true

[node name="Bus-outside" type="Sprite2D" parent="."]
position = Vector2(-600, 217)
texture = ExtResource("4_kqyhp")

[node name="rain-and-mist" type="Node2D" parent="."]
z_index = 1
position = Vector2(81, 62)
script = ExtResource("5_u12qi")

[node name="rain" type="AnimatedSprite2D" parent="rain-and-mist"]
sprite_frames = SubResource("SpriteFrames_egqpn")
autoplay = "default"
frame_progress = 0.597614

[node name="mist-1" type="Node2D" parent="rain-and-mist"]

[node name="Mist-1-1" type="Sprite2D" parent="rain-and-mist/mist-1"]
texture_filter = 1
texture = ExtResource("6_oywl2")

[node name="Mist-1-2" type="Sprite2D" parent="rain-and-mist/mist-1"]
texture_filter = 1
position = Vector2(-320, 0)
texture = ExtResource("6_oywl2")

[node name="mist-2" type="Node2D" parent="rain-and-mist"]

[node name="Mist-2-1" type="Sprite2D" parent="rain-and-mist/mist-2"]
texture_filter = 1
texture = ExtResource("7_u12qi")

[node name="Mist-2-2" type="Sprite2D" parent="rain-and-mist/mist-2"]
texture_filter = 1
position = Vector2(-320, 0)
texture = ExtResource("7_u12qi")

[node name="mist-3" type="Node2D" parent="rain-and-mist"]

[node name="Mist-3-1" type="Sprite2D" parent="rain-and-mist/mist-3"]
texture_filter = 1
texture = ExtResource("8_b37l0")

[node name="Mist-3-2" type="Sprite2D" parent="rain-and-mist/mist-3"]
texture_filter = 1
position = Vector2(-320, 0)
texture = ExtResource("8_b37l0")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="phone-btn" type="Control" parent="CanvasLayer"]
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_nw1tn")

[node name="TextureButton" type="TextureButton" parent="CanvasLayer/phone-btn"]
texture_filter = 1
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -31.0
offset_top = -31.0
offset_right = -12.0
offset_bottom = -12.0
grow_horizontal = 0
grow_vertical = 0
toggle_mode = true
texture_normal = ExtResource("4_hbdsi")

[node name="phone" parent="CanvasLayer" instance=ExtResource("5_tcafs")]

[connection signal="body_entered" from="enter-bus" to="player" method="_on_enterbus_body_entered"]
[connection signal="toggled" from="CanvasLayer/phone-btn/TextureButton" to="CanvasLayer/phone" method="_on_texture_button_toggled"]
